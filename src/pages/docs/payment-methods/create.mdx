# Add Payment Method

Add a new payment method for the user.

## Endpoint

```http
POST ${baseUrl}/users/{userId}/payment-methods
```

## Path Parameters

| Parameter | Type   | Description    |
| --------- | ------ | -------------- |
| userId    | number | ID of the user |

## Request Body

```typescript
interface AddPaymentMethodRequest {
  type: 'CARD' | 'PAYPAL'
  token?: string // Payment token from Stripe
  paypalEmail?: string
  isDefault?: boolean
}
```

## Response

```typescript
interface AddPaymentMethodResponse {
  success: boolean
  data: {
    id: string
    type: 'CARD' | 'PAYPAL'
    isDefault: boolean
    details: {
      last4?: string
      brand?: string
      expiryMonth?: number
      expiryYear?: number
      paypalEmail?: string
    }
    createdAt: string
  }
}
```

## Example Request

```typescript
const response = await fetch('${baseUrl}/users/123/payment-methods', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    Authorization: 'Basic YOUR_API_KEY',
  },
  body: JSON.stringify({
    type: 'CARD',
    token: 'stripe_token_here',
    isDefault: true,
  }),
})

const data = await response.json()
```

## Error Codes

| Status Code | Description                       |
| ----------- | --------------------------------- |
| 201         | Payment Method Added Successfully |
| 400         | Invalid Request                   |
| 401         | Unauthorized                      |
| 403         | Forbidden                         |
| 404         | User Not Found                    |
| 500         | Server Error                      |
